# File created 2017-03-05
#

# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!
#

set $mod Mod4
set $hyper mod4+Shift+mod1+Ctrl

set $floating_default_height 800
set $floating_default_width 1200

# window title font
#
#font pango:Systen San Francisco Display Ultralight 10
font scientifica

floating_modifier $mod

bindsym $mod+Return exec st /usr/bin/tmux

bindsym $mod+Shift+q kill

bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up	
bindsym $mod+l focus right

bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

#bindsym $mod+semicolon split h
bindsym $mod+v split v
bindsym $mod+f fullscreen toggle

bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+Shift+space floating toggle; resize set $floating_default_width $floating_default_height; move position center
bindsym $mod+space focus mode_toggle

bindsym $mod+a focus parent
bindsym $mod+Shift+a focus child

# workspace related controls are done with external command which is triggered 
# through rofi - ~/bin/wksp
#
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart

# exit i3 (logs you out of your X session)
#
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
#
#
set $mode_resize Resize mode
mode "$mode_resize" {
        bindsym h resize shrink width  10 px or 10 ppt
        bindsym j resize grow   height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow   width  10 px or 10 ppt
	
	bindsym Shift+h resize shrink width  1 px or 1 ppt
        bindsym Shift+j resize grow   height 1 px or 1 ppt
        bindsym Shift+k resize shrink height 1 px or 1 ppt
        bindsym Shift+l resize grow   width  1 px or 1 ppt

        # back to normal
        #
	bindsym r mode "default"
        bindsym Return mode "default"
        bindsym Escape mode "default"
}
bindsym $mod+r mode "$mode_resize"


## Base16 Default Dark
## Author: Chris Kempson (http://chriskempson.com)
##
## You can use these variables anywhere in the i3 configuration file.

set $base00 #181818
set $base01 #282828
set $base02 #383838
set $base03 #585858
set $base04 #b8b8b8
set $base05 #d8d8d8
set $base06 #e8e8e8
set $base07 #f8f8f8
set $base08 #ab4642
set $base09 #dc9656
set $base0A #f7ca88
set $base0B #a1b56c
set $base0C #86c1b9
set $base0D #7cafc2
set $base0E #ba8baf
set $base0F #a16946
#
#
# Basic color configuration using the Base16 variables for windows and borders.
# Property Name         Border  BG      Text    Indicator Child Border
client.focused          $base02 $base02 $base05 $base02 $base02
client.focused_inactive $base00 $base00 $base05 $base00 $base00
client.unfocused        $base00 $base00 $base05 $base00 $base00
client.urgent           $base00 $base08 $base05 $base08 $base08
client.placeholder      $base00 $base00 $base05 $base00 $base00
client.background $base07

# per window settings
#
for_window [class="^.*"] border pixel 2
for_window [title="^.*noborder.*"] border pixel 0

# rofi
#
bindsym $mod+d exec rofi-preconf window
bindsym $mod+p exec ~/bin/rofi_scripts/rofi-emoji.sh
bindsym $mod+Shift+p exec ~/bin/rofi_scripts/rofi-iso8859-1.py
bindsym $mod+q exec rofi-preconf run
bindsym $mod+Ctrl+q exec rofi-pass


hide_edge_borders both
exec  compton --config ~/.config/compton.conf 

# screenshot keybindings
#
bindsym --release Print exec ss
bindsym --release shift+Print exec ss select
bindsym --release Ctrl+Print exec ss focused

# set wallpaper
#
exec_always feh --bg-fill ~/.wallpaper

# disable screen timeout
#
exec xset s off
exec xset -dpms

# starts cinnamon's screensaver daemon for if it's used to lock the screen
# and adds the binding for locking 
#
#exec cinnamon-screensaver
bindsym $mod+shift+x exec ~/bin/lock i3lockfancy

# i3-gaps
# 
gaps outer 10
gaps inner 10
#smart_gaps on

# Volume keys
#
bindsym XF86AudioMute exec amixer sset 'Master' toggle
bindsym XF86AudioLowerVolume exec amixer sset 'Master' 5%-
bindsym XF86AudioRaiseVolume exec amixer sset 'Master' 5%+
bindsym Ctrl+XF86AudioLowerVolume exec cmus-remote -v -5%
bindsym Ctrl+XF86AudioRaiseVolume exec cmus-remote -v +5%

# Media player controls
#
bindsym XF86AudioPlay exec playerctl -p cmus play-pause
bindsym XF86AudioPause exec playerctl -p cmus pause
bindsym XF86AudioNext exec playerctl -p cmus next
bindsym XF86AudioPrev exec playerctl -p cmus previous

workspace_layout tabbed

focus_follows_mouse no

# Move to primary workspace and launch start up applications
#
exec i3 workspace main
exec i3 workspace bt
exec qbittorrent
exec sleep 3
exec i3 workspace main
exec bars --startup
# exec --no-startup-id unclutter -idle 1
exec redshift 
exec telegram
exec discord
exec pavucontrol
exec xinput set-prop 8 "libinput Middle Emulation Enabled" 1

# Fucking Firefox, man
#
bindsym Ctrl+q exec ~/.config/i3/firefox-ctrl-q-workaround/noctrlq.sh

# Scratchpad
#
# Terminal - Just a terminal to do terminally things
exec ~/bin/scratchpad/terminal
for_window [title="termite-scratchpad"] floating enable
for_window [title="termite-scratchpad"] move scratchpad
for_window [title="termite-scratchpad"] resize set $floating_default_width $floating_default_height
bindsym $mod+u [title="termite-scratchpad"] scratchpad show; [title="termite-scratchpad"] move position center
# Music - cmus in termite with the title "music"
exec ~/bin/scratchpad/music
for_window [class="^music$"] floating enable
for_window [class="^music$"] move scratchpad
for_window [class="^music$"] resize set $floating_default_width $floating_default_height
bindsym $mod+m [class="^music$"] scratchpad show; [class="^music$"] move position center
# Telegram - Using title allows the media viewer window to be made fullscreen on
# the current workspace rather than being put in the scratchpad
for_window [title="Telegram"] floating enable
for_window [title="Telegram"] move scratchpad
for_window [title="Telegram"] resize set $floating_default_width $floating_default_height
for_window [title="Media viewer" class="Telegram"] fullscreen
bindsym $mod+t [title="Telegram"] scratchpad show; [title="Telegram"] move position center
# Discord - the width is too small but Discord sorts itself out anyways
for_window [class="discord"] floating enable
for_window [class="discord"] move scratchpad
for_window [class="discord"] resize set $floating_default_width $floating_default_height
bindsym $mod+y [class="discord"] scratchpad show; [class="discord"] move position center
# qBittorrent - using title with "v" makes it so other windows (e.g. add 
# torrent) are shown on current workspace
for_window [title="^qBittorrent v"] floating enable
for_window [title="^qBittorrent v"] move scratchpad
for_window [title="^qBittorrent v"] resize set $floating_default_width $floating_default_height
bindsym $mod+Shift+m [title="^qBittorrent v"] scratchpad show; [title="^qBittorrent v"] move position center
# Pavucontrol -
for_window [title="^Volume Control$"] floating enable
for_window [title="^Volume Control$"] move scratchpad
for_window [title="^Volume Control$"] resize set $floating_default_width $floating_default_height
bindsym $mod+o [title="^Volume Control$"] scratchpad show; [title="^Volume Control$"] move position center
