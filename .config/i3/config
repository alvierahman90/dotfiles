# File created 2017-03-05
#

# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!
#

set $mod Mod4
set $hyper mod4+Shift+mod1+Ctrl

# window title font
#
#font pango:Systen San Francisco Display Ultralight 10
font scientifica

floating_modifier $mod

bindsym Return exec termite -e /usr/bin/tmux

bindsym Shift+q kill

bindsym h focus left
bindsym j focus down
bindsym k focus up	
bindsym l focus right

bindsym Shift+h move left
bindsym Shift+j move down
bindsym Shift+k move up
bindsym Shift+l move right

#bindsym semicolon split h
bindsym v split v
bindsym f fullscreen toggle

bindsym s layout stacking
bindsym w layout tabbed
bindsym e layout toggle split

bindsym Shift+space floating toggle
bindsym space focus mode_toggle

bindsym a focus parent
bindsym Shift+a focus child

# workspace related controls are done with external command which is triggered 
# through rofi - ~/bin/wksp
#
bindsym Shift+c reload
bindsym Shift+r restart

# exit i3 (logs you out of your X session)
#
bindsym Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
#
#
set $mode_resize Resize mode
mode "$mode_resize" {
        bindsym h resize shrink width  10 px or 10 ppt
        bindsym j resize grow   height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow   width  10 px or 10 ppt
	
	bindsym Shift+h resize shrink width  1 px or 1 ppt
        bindsym Shift+j resize grow   height 1 px or 1 ppt
        bindsym Shift+k resize shrink height 1 px or 1 ppt
        bindsym Shift+l resize grow   width  1 px or 1 ppt

        # back to normal
        #
	bindsym r mode "default"
        bindsym Return mode "default"
        bindsym Escape mode "default"
}
bindsym r mode "$mode_resize"

set $mode_normal Application mode

mode "$mode_normal" {
	bindsym $hyper+Return mode "default"
	# Volume keys
	#
	bindsym XF86AudioMute exec amixer sset 'Master' toggle
	bindsym XF86AudioLowerVolume exec amixer sset 'Master' 5%-
	bindsym XF86AudioRaiseVolume exec amixer sset 'Master' 5%+

	# Media player controls
	#
	bindsym XF86AudioPlay exec playerctl -p cmus play-pause
	bindsym XF86AudioPause exec playerctl -p cmus pause
	bindsym XF86AudioNext exec playerctl -p cmus next
	bindsym XF86AudioPrev exec playerctl -p cmus previous
}

bindsym $hyper+Return mode "$mode_normal"

## Base16 Default Dark
## Author: Chris Kempson (http://chriskempson.com)
##
## You can use these variables anywhere in the i3 configuration file.

set $base00 #181818
set $base01 #282828
set $base02 #383838
set $base03 #585858
set $base04 #b8b8b8
set $base05 #d8d8d8
set $base06 #e8e8e8
set $base07 #f8f8f8
set $base08 #ab4642
set $base09 #dc9656
set $base0A #f7ca88
set $base0B #a1b56c
set $base0C #86c1b9
set $base0D #7cafc2
set $base0E #ba8baf
set $base0F #a16946
#
#
# Basic color configuration using the Base16 variables for windows and borders.
# Property Name         Border  BG      Text    Indicator Child Border
client.focused          $base04 $base04 $base00 $base04 $base04
client.focused_inactive $base00 $base00 $base04 $base00 $base00
client.unfocused        $base00 $base00 $base04 $base00 $base00
client.urgent           $base00 $base08 $base04 $base08 $base08
client.placeholder      $base00 $base00 $base04 $base00 $base00
client.background $base07

# per window settings
#
for_window [class="^.*"] border pixel 2
for_window [title="^.*noborder.*"] border pixel 0

# rofi
#
bindsym d exec rofi-preconf window
bindsym p exec ~/bin/rofi_scripts/rofi-emoji.sh
bindsym Shift+p exec ~/bin/rofi_scripts/rofi-iso8859-1.py
bindsym q exec rofi-preconf run
bindsym $mod+Ctrl+q exec rofi-pass


hide_edge_borders both
exec  compton --config ~/.config/compton.conf 

# screenshot keybindings
#
bindsym --release Print exec ss
bindsym --release shift+Print exec ss select
bindsym --release Ctrl+Print exec ss focused

# set wallpaper
#
exec_always feh --bg-fill ~/.wallpaper

# disable screen timeout
#
exec xset s off
exec xset -dpms

# starts cinnamon's screensaver daemon for if it's used to lock the screen
# and adds the binding for locking 
#
#exec cinnamon-screensaver
bindsym shift+x exec ~/bin/lock i3lockfancy

# i3-gaps
# 
gaps outer 10
gaps inner 10
#smart_gaps on

# Volume keys
#
bindsym XF86AudioMute exec amixer sset 'Master' toggle
bindsym XF86AudioLowerVolume exec amixer sset 'Master' 5%-
bindsym XF86AudioRaiseVolume exec amixer sset 'Master' 5%+

# Media player controls
#
bindsym XF86AudioPlay exec playerctl -p cmus play-pause
bindsym XF86AudioPause exec playerctl -p cmus pause
bindsym XF86AudioNext exec playerctl -p cmus next
bindsym XF86AudioPrev exec playerctl -p cmus previous

workspace_layout tabbed

focus_follows_mouse no

# Move to primary workspace and launch start up applications
#
exec i3 workspace main
exec i3 workspace bt
exec qbittorrent
exec sleep 3
exec i3 workspace main
exec bars --startup
exec --no-startup-id unclutter -idle 1
exec redshift 
exec telegram
exec discord
exec pavucontrol

# Fucking Firefox, man
#
bindsym Ctrl+q exec ~/.config/i3/firefox-ctrl-q-workaround/noctrlq.sh

# Scratchpad
#
set $height 500
set $width 800
# Terminal - Just a terminal to do terminally things
#
exec termite -t termite-scratchpad -e /usr/bin/tmux
for_window [title="termite-scratchpad"] floating enable
for_window [title="termite-scratchpad"] move scratchpad
for_window [title="termite-scratchpad"] resize set $width $height
bindsym u [title="termite-scratchpad"] scratchpad show; [title="termite-scratchpad"] move position center
# Music - cmus in termite with the title "music"
#
exec termite -t music -e /usr/bin/cmus
for_window [title="^music$"] floating enable
for_window [title="^music$"] move scratchpad
for_window [title="^music$"] resize set $width $height
bindsym m [title="^music$"] scratchpad show; [title="^music$"] move position center
# Telegram - Using title allows the media viewer window to be made fullscreen on
# the current workspace rather than being put in the scratchpad
#
for_window [title="Telegram"] floating enable
for_window [title="Telegram"] move scratchpad
for_window [title="Telegram"] resize set $width $height
for_window [title="Media viewer" class="Telegram"] fullscreen
bindsym t [title="Telegram"] scratchpad show; [title="Telegram"] move position center
# Discord - the width is too small but Discord sorts itself out anyways
#
for_window [class="discord"] floating enable
for_window [class="discord"] move scratchpad
for_window [class="discord"] resize set $width $height
bindsym y [class="discord"] scratchpad show; [class="discord"] move position center
# qBittorrent - using title with "v" makes it so other windows (e.g. add 
# torrent) are shown on current workspace
#
for_window [title="^qBittorrent v"] floating enable
for_window [title="^qBittorrent v"] move scratchpad
for_window [title="^qBittorrent v"] resize set $width $height
bindsym Shift+m [title="^qBittorrent v"] scratchpad show; [title="^qBittorrent v"] move position center

# Pavucontrol -
# 
for_window [title="^Volume Control$"] floating enable
for_window [title="^Volume Control$"] move scratchpad
for_window [title="^Volume Control$"] resize set $width $height
bindsym o [title="^Volume Control$"] scratchpad show; [title="^Volume Control$"] move position center
